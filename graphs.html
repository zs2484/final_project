<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>graphs.utf8</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="site_libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="site_libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="site_libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="introduction.html">Intro to COVID-19</a>
</li>
<li>
  <a href="graphs.html">Air Transportation Impacts</a>
</li>
<li>
  <a href="mobility.html">Mobility Changes</a>
</li>
<li>
  <a href="economics_dashboard.html">Dashboard</a>
</li>
<li>
  <a href="https://github.com/zs2484/final_project.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<p><strong>After determining that the outbreak of COVID-19 took place in mid-March and is still not under full control, we can start analyzing data within this time frame.</strong></p>
<p><em>Firstly, we mapped two bubble maps to see the association between the flight amount since the middle of March and the number of total COVID-19 cases by states. Percent of baseline is the amount of flight compared to the baseline flight amount, which makes the data easier to understand and compare.</em></p>
<pre class="r"><code>#import data for covid_impact_on_airport_traffic
#Main Problem: join data, have date and state match for both data
# Transportation and Covid have different way to representing date(2020-01-01 in transportation date and 01/01/2020 in Covid data)
transportation = 
   read_csv(&quot;./data/covid_impact_on_airport_traffic.csv&quot; ) %&gt;%
  janitor::clean_names() %&gt;%
  filter(country != &quot;Australia&quot; &amp; country != &quot;Chile&quot; &amp; country != &quot;Canada&quot;) %&gt;% #only leave United States data 
   separate(date, c(&quot;year&quot;,&quot;month&quot;,&quot;day&quot;), sep = &quot;([-])&quot;) %&gt;%  # I re-arrange the date information so that it matched the date format in Covid data
    mutate(date = paste(month,day,year,sep = &quot;/&quot;)) %&gt;% # I re-arrange the date information so that it matched the date format in Covid data
  relocate(date) %&gt;% 
  select(-year,-month,-day,-version,-aggregation_method,-state,-country) %&gt;% #delete variable that is not in our interest
    rename(state = iso_3166_2) %&gt;% #rename state variable so that we can combine two data 
  mutate(state=gsub(&quot;US-&quot;,&quot;&quot;,state)) # reformat state variable, delete prefix of US-

Covid =  
  read_csv(&quot;./data/United_States_COVID-19_Cases_and_Deaths_by_State_over_Time.csv&quot; ) %&gt;%
  janitor::clean_names() %&gt;%
  filter(consent_cases == &quot;Agree&quot; | consent_deaths == &quot;Agree&quot;)%&gt;% #need to decided whether this step is necessary
  select(&quot;submission_date&quot;:&quot;pnew_death&quot;) %&gt;% #select variable of interest, need to look further into which variable we are interested in and way
    rename(date = submission_date)  # rename date variable so that we can match data accordingly
  

Covid_transport_data = 
  left_join(transportation, Covid, by = c(&quot;date&quot;)) %&gt;% #left join two data, by date
  filter(state.y == state.x) 
  #filter the data so that we only leave the data that have matching date and state</code></pre>
<div id="air-transportation-bubble-map" class="section level3">
<h3>Air Transportation Bubble Map</h3>
<pre class="r"><code>transport_state = 
  Covid_transport_data %&gt;% 
  mutate(centroid=gsub(&quot;POINT\\D&quot;,&quot;&quot;,centroid)) %&gt;% 
  separate(centroid, into = c(&quot;long&quot;, &quot;lat&quot;), sep = 17) %&gt;% 
  mutate(across(where(is.character), str_trim)) %&gt;% 
  group_by (airport_name, long, lat, state.x) %&gt;% 
  summarize(
    mean_percent_base = mean(percent_of_baseline)
    ) %&gt;% 
  mutate(long = round(as.double(long),digits = 0),
         lat = round(as.double(str_remove(lat,&quot;\\)&quot;))),digits = 2,
         mean_percent_base = round(mean_percent_base, digits = 2))

mybins &lt;- seq(40, 90, by=10)
mypalette &lt;- colorBin( palette=&quot;magma&quot;, domain=transport_state$mean_percent_base,  bins=mybins)
mytext = paste(
   &quot;Longitude: &quot;, transport_state$long, 
   &quot;Latitude: &quot;, transport_state$lat, 
   &quot;Percent of baseline: &quot;, transport_state$mean_percent_base) %&gt;%
  lapply(htmltools::HTML)

m &lt;- leaflet(transport_state) %&gt;% 
  addTiles()  %&gt;% 
  addProviderTiles(&quot;CartoDB.Positron&quot;) %&gt;%
  addCircleMarkers(~long, ~lat, 
    fillColor = ~mypalette(mean_percent_base),
    fillOpacity = 0.7, 
    color=&quot;white&quot;, 
    radius = ~ mean_percent_base/2,
    stroke = FALSE, 
    label = mytext,
    labelOptions = labelOptions( style = list(&quot;font-weight&quot; = &quot;normal&quot;, padding = &quot;3px 8px&quot;), textsize = &quot;13px&quot;, direction = &quot;auto&quot;)
  ) %&gt;%
  addLegend( pal= mypalette, values=~mean_percent_base, opacity=1, title = &quot;Percent of baseline&quot;, position = &quot;bottomright&quot; )
  
m</code></pre>
<div id="htmlwidget-c63413d01fea0063484a" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-c63413d01fea0063484a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[42,35,42,40,42,41,39],[-71,-81,-88,-105,-83,-74,-77],[32.125,37.88,36.07,27.645,23.545,42.665,27.495],null,null,{"interactive":true,"className":"","stroke":false,"color":"white","weight":5,"opacity":0.5,"fill":true,"fillColor":["#B6367A","#FB8861","#FB8861","#51127C","#000004","#FCFDBF","#51127C"],"fillOpacity":0.7},null,null,null,null,["Longitude:  -71 Latitude:  42 Percent of baseline:  64.25","Longitude:  -81 Latitude:  35 Percent of baseline:  75.76","Longitude:  -88 Latitude:  42 Percent of baseline:  72.14","Longitude:  -105 Latitude:  40 Percent of baseline:  55.29","Longitude:  -83 Latitude:  42 Percent of baseline:  47.09","Longitude:  -74 Latitude:  41 Percent of baseline:  85.33","Longitude:  -77 Latitude:  39 Percent of baseline:  54.99"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"13px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#000004","#51127C","#B6367A","#FB8861","#FCFDBF"],"labels":["40 &ndash; 50","50 &ndash; 60","60 &ndash; 70","70 &ndash; 80","80 &ndash; 90"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"bin","title":"Percent of baseline","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[35,42],"lng":[-105,-71]}},"evals":[],"jsHooks":[]}</script>
<p>The air transportation bubble map shows a comparison between the average flight amount from Mar.16th to Oct.16th, 2020, and total covid-19 cases during the same period among the seven major airports in the US States:</p>
<p>• Boston Logan International</p>
<p>• Charlotte Douglas International</p>
<p>• Chicago O’Hare International</p>
<p>• Denver International</p>
<p>• Detroit Metropolitan Wayne County</p>
<p>• Newark Liberty International</p>
<p>•Washington Dulles International</p>
<p>The larger the bubble is, the greater the percent of baseline and the smaller difference from the baseline will be. For instance, we can see that the proportion of Newark Liberty International Airport (NJ) is the greatest, while the proportion of Washington Dulles International (VA) is the smallest. This difference implies that COVID-19 has brought a much more severe impact to air transportation in New Jersey than in Virginia.</p>
</div>
<div id="covid-bubble-map" class="section level3">
<h3>Covid Bubble Map</h3>
<pre class="r"><code>case_state = 
  Covid_transport_data %&gt;% 
  mutate(centroid=gsub(&quot;POINT\\D&quot;,&quot;&quot;,centroid)) %&gt;% 
  separate(centroid, into = c(&quot;long&quot;, &quot;lat&quot;), sep = 17) %&gt;% 
  mutate(across(where(is.character), str_trim)) %&gt;% 
  group_by (airport_name, long, lat, state.x) %&gt;% 
  summarize(
    total_cases = max(tot_cases)
    ) %&gt;% 
  mutate(long = round(as.double(long),digits = 0),
         lat = round(as.double(str_remove(lat,&quot;\\)&quot;))),digits = 2
         )

mybins &lt;- seq(80000, 380000, by=50000)
mypalette &lt;- colorBin( palette=&quot;magma&quot;, domain=case_state$total_cases,  bins=mybins)

mytext = paste(
   &quot;Longitude: &quot;, case_state$long, 
   &quot;Latitude: &quot;, case_state$lat, 
   &quot;Total Cases: &quot;, case_state$total_cases) %&gt;%
  lapply(htmltools::HTML)

n &lt;- leaflet(case_state) %&gt;% 
  addTiles()  %&gt;% 
  addProviderTiles(&quot;CartoDB.Positron&quot;) %&gt;%
  addCircleMarkers(~long, ~lat, 
    fillColor = ~mypalette(total_cases),
    fillOpacity = 0.7, 
    color=&quot;white&quot;, 
    radius = ~ sqrt(total_cases/8000)*7,
    stroke = FALSE, 
    label = mytext,
    labelOptions = labelOptions( style = list(&quot;font-weight&quot; = &quot;normal&quot;, padding = &quot;3px 8px&quot;), textsize = &quot;13px&quot;, direction = &quot;auto&quot;)
  ) %&gt;%
  addLegend( pal= mypalette, values=~total_cases, opacity=1, title = &quot;Total cases&quot;, position = &quot;bottomright&quot; )
  
n</code></pre>
<div id="htmlwidget-901d7dcefd5a99b67fc6" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-901d7dcefd5a99b67fc6">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[42,35,42,40,42,41,39],[-71,-81,-88,-105,-83,-74,-77],[30.2349156605405,38.4699996750715,45.6183748614525,22.5783912181537,31.2186462710989,36.5246423664901,31.8132480265691],null,null,{"interactive":true,"className":"","stroke":false,"color":"white","weight":5,"opacity":0.5,"fill":true,"fillColor":["#3B0F70","#DE4968","#FCFDBF","#000004","#3B0F70","#8C2981","#3B0F70"],"fillOpacity":0.7},null,null,null,null,["Longitude:  -71 Latitude:  42 Total Cases:  149249","Longitude:  -81 Latitude:  35 Total Cases:  241623","Longitude:  -88 Latitude:  42 Total Cases:  339761","Longitude:  -105 Latitude:  40 Total Cases:  83230","Longitude:  -83 Latitude:  42 Total Cases:  159119","Longitude:  -74 Latitude:  41 Total Cases:  217804","Longitude:  -77 Latitude:  39 Total Cases:  165238"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"13px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#000004","#3B0F70","#8C2981","#DE4968","#FE9F6D","#FCFDBF"],"labels":["80,000 &ndash; 130,000","130,000 &ndash; 180,000","180,000 &ndash; 230,000","230,000 &ndash; 280,000","280,000 &ndash; 330,000","330,000 &ndash; 380,000"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"bin","title":"Total cases","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[35,42],"lng":[-105,-71]}},"evals":[],"jsHooks":[]}</script>
<p>The COVID bubble map provides information on the number of total COVID-19 cases from Mar.16th to Oct.16th by states. The larger the bubble size is, the larger the number of the total COVID-19 cases is. As seen in this plot, Illinois, North Carolina, and New Jersey have a relatively greater number of total cases, while Colorado has the smallest number of total cases.</p>
<p><em>By comparing the two bubble maps, we can see an association between the flights and the number of total COVID-19 cases from Mar.16th to Oct.16th. For the states, such as New Jersey, the percent of baseline for the flights is relatively smaller with more total cases, suggesting that as the number of total cases increases, the impact of COVID-19 brought to the air transportation will also be increased.</em></p>
</div>
<div id="regression-analysis" class="section level3">
<h3>Regression Analysis</h3>
<pre class="r"><code>Covid_transport_data %&gt;% 
  ggplot(aes(x = percent_of_baseline, y = tot_cases, color = state.x)) + 
  geom_point(alpha = 0.6) +
  labs(
    title = &quot;Total Cases VS Airline Amount&quot;,
    x = &quot;Percent of Baseline&quot;,
    y = &quot;Total Cases&quot;
  )</code></pre>
<p><img src="graphs_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>regression_tot = lm(tot_cases ~ percent_of_baseline, Covid_transport_data)
knitr::kable(tidy(regression_tot))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-25176.148</td>
<td align="right">6086.44823</td>
<td align="right">-4.136427</td>
<td align="right">0.0000372</td>
</tr>
<tr class="even">
<td align="left">percent_of_baseline</td>
<td align="right">1845.606</td>
<td align="right">90.24531</td>
<td align="right">20.450995</td>
<td align="right">0.0000000</td>
</tr>
</tbody>
</table>
<p>There is a positive association in total cases with respect to percent of baseline, the airline amount for all states, so we do a regression test for each state to see if this positive relation can be applied to every state.</p>
<pre class="r"><code>regression_state = Covid_transport_data %&gt;% 
  nest(data = -state.x) %&gt;% 
  mutate(
    models = map(.x = data, ~lm(tot_cases ~ percent_of_baseline , data = .x)), 
    results = map(models, broom::tidy)
  ) %&gt;% 
  
  select(-data, -models) %&gt;% 
  unnest(results) %&gt;% 
  filter(str_detect(term, &quot;percent_of_baseline&quot;)) %&gt;% 
  knitr::kable()

regression_state</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">state.x</th>
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CO</td>
<td align="left">percent_of_baseline</td>
<td align="right">651.7285</td>
<td align="right">88.42911</td>
<td align="right">7.370067</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">IL</td>
<td align="left">percent_of_baseline</td>
<td align="right">1348.0381</td>
<td align="right">635.67225</td>
<td align="right">2.120650</td>
<td align="right">0.0351133</td>
</tr>
<tr class="odd">
<td align="left">MA</td>
<td align="left">percent_of_baseline</td>
<td align="right">-588.8396</td>
<td align="right">342.38306</td>
<td align="right">-1.719827</td>
<td align="right">0.0869233</td>
</tr>
<tr class="even">
<td align="left">MI</td>
<td align="left">percent_of_baseline</td>
<td align="right">102.4457</td>
<td align="right">326.82936</td>
<td align="right">0.313453</td>
<td align="right">0.7542447</td>
</tr>
<tr class="odd">
<td align="left">NC</td>
<td align="left">percent_of_baseline</td>
<td align="right">2137.6537</td>
<td align="right">282.22816</td>
<td align="right">7.574204</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">NJ</td>
<td align="left">percent_of_baseline</td>
<td align="right">2102.5698</td>
<td align="right">198.23448</td>
<td align="right">10.606479</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">VA</td>
<td align="left">percent_of_baseline</td>
<td align="right">1272.0661</td>
<td align="right">279.14163</td>
<td align="right">4.557063</td>
<td align="right">0.0000088</td>
</tr>
</tbody>
</table>
<p>We can see from the regression table that four states have statistically significant p-values. They demonstrate a tendency that as airlines start to increase, the total cases increase accordingly with a relatively steep slope. In other words, covid-19 cases are positively associated with airline amount in Colorado, North Carolina, New Jersey, Virginia. For Illinois and Michigan, p-values are not statistically strong, but the estimated slope is positive. However, Massachusetts has a negative slope with large p-value, which indicates that there might be no association in airline amount and covid-19 cases or there might be stronger factors associated with covid-19 cases.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
